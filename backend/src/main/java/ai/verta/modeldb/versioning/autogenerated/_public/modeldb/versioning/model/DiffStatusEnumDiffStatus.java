// THIS FILE IS AUTO-GENERATED. DO NOT EDIT
package ai.verta.modeldb.versioning.autogenerated._public.modeldb.versioning.model;

import ai.verta.modeldb.ModelDBException;
import ai.verta.modeldb.versioning.*;
import ai.verta.modeldb.versioning.DiffStatusEnum.DiffStatus;
import ai.verta.modeldb.versioning.blob.diff.ProtoType;
import ai.verta.modeldb.versioning.blob.visitors.Visitor;
import java.nio.charset.StandardCharsets;
import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;
import java.util.*;
import org.apache.commons.codec.binary.Hex;

public class DiffStatusEnumDiffStatus implements ProtoType {
  public DiffStatusEnum.DiffStatus Status;

  public DiffStatusEnumDiffStatus() {
    Status = DiffStatus.UNKNOWN;
  }

  public DiffStatusEnumDiffStatus(DiffStatusEnum.DiffStatus s) {
    Status = s;
  }

  public Boolean isEmpty() {
    return Status == DiffStatus.UNKNOWN;
  }

  public Boolean isDeleted() {
    return Status == DiffStatus.UNKNOWN || Status == DiffStatus.DELETED;
  }

  @Override
  public boolean equals(Object o) {
    if (this == o) return true;
    if (o == null) return false;
    if (!(o instanceof DiffStatusEnumDiffStatus)) return false;
    DiffStatusEnumDiffStatus other = (DiffStatusEnumDiffStatus) o;
    return Status == other.Status;
  }

  public static DiffStatusEnumDiffStatus fromProto(
      ai.verta.modeldb.versioning.DiffStatusEnum.DiffStatus blob) {
    if (blob == null) {
      return null;
    }

    DiffStatusEnumDiffStatus obj = new DiffStatusEnumDiffStatus();
    obj.Status = blob;
    return obj;
  }

  public ai.verta.modeldb.versioning.DiffStatusEnum.DiffStatus toProto() {
    return this.Status;
  }

  @Override
  public String toString() {
    return Status.toString();
  }

  @Override
  public String getSHA() throws NoSuchAlgorithmException {
    MessageDigest digest = MessageDigest.getInstance("SHA-256");
    byte[] hash = digest.digest(this.toString().getBytes(StandardCharsets.UTF_8));
    return new String(new Hex().encode(hash));
  }

  public void preVisitShallow(Visitor visitor) throws ModelDBException {
    visitor.preVisitDiffStatusEnumDiffStatus(this);
  }

  public void preVisitDeep(Visitor visitor) throws ModelDBException {
    this.preVisitShallow(visitor);
  }

  public DiffStatusEnumDiffStatus postVisitShallow(Visitor visitor) throws ModelDBException {
    return visitor.postVisitDiffStatusEnumDiffStatus(this);
  }

  public DiffStatusEnumDiffStatus postVisitDeep(Visitor visitor) throws ModelDBException {
    return this.postVisitShallow(visitor);
  }
}
